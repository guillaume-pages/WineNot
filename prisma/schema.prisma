generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model bottles {
  bottle_id          Int       @id @default(autoincrement())
  cellar_id          Int?
  bottle_name        String    @db.VarChar
  millesime          Int
  type_of_wine       String    @db.VarChar
  size               String    @db.VarChar
  grape_varieties    Json      @db.Json
  region             String    @db.VarChar
  eye_description    String?
  nose_description   Json?     @db.Json
  mouth_description  Json?     @db.Json
  carafage           Int?
  temperature        Int?
  degree             Int?
  accompaniment      Json?     @db.Json
  media              String?
  price              Int?
  price_visibility   Int?
  global_description String?
  entry_date         DateTime  @db.Timestamp(6)
  potential_date     DateTime? @db.Timestamp(6)
  quantity           Int
  global_visibility  Int
  cellars            cellars?  @relation(fields: [cellar_id], references: [cellar_id], onDelete: NoAction, onUpdate: NoAction)
}

model cellars {
  cellar_id     Int             @id @default(autoincrement())
  created_at    DateTime?       @db.Timestamp(6)
  updated_at    DateTime?       @db.Timestamp(6)
  deleted_at    DateTime?       @db.Timestamp(6)
  bottles       bottles[]
  users_cellars users_cellars[]
}

model customers {
  customer_id Int        @id @default(autoincrement())
  name        String?    @db.VarChar(255)
  email       String?    @db.VarChar(255)
  image_url   String?    @db.VarChar(255)
  invoices    invoices[]
}

model invoices {
  invoice_id  Int        @id @default(autoincrement())
  customer_id Int?
  amount      Int?
  status      String?    @db.VarChar(255)
  date        DateTime?  @db.Timestamp(6)
  customers   customers? @relation(fields: [customer_id], references: [customer_id], onDelete: NoAction, onUpdate: NoAction)
}

model revenue {
  month   String @id @db.VarChar(20)
  revenue Int?
}

model users {
  user_id       Int             @id @default(autoincrement())
  firstname     String          @db.VarChar
  lastname      String?         @db.VarChar
  mail          String          @unique @db.VarChar
  password      String          @db.VarChar
  status        String          @db.VarChar
  phone         String?         @db.VarChar
  created_at    DateTime?       @db.Timestamp(6)
  deleted_at    DateTime?       @db.Timestamp(6)
  users_cellars users_cellars[]
}

model users_cellars {
  user_cellar_id Int      @id @default(autoincrement())
  user_id        Int?
  cellar_id      Int?
  cellars        cellars? @relation(fields: [cellar_id], references: [cellar_id], onDelete: NoAction, onUpdate: NoAction)
  users          users?   @relation(fields: [user_id], references: [user_id], onDelete: NoAction, onUpdate: NoAction)
}
